---
import SiteLayout from "@layouts/SiteLayout.astro";
import Project from "@components/Project.astro";
import BackNav from "@components/BackNav.astro";
import listing from "@/styles/pages/listing.module.css";
import { getCollection, type CollectionEntry } from "astro:content";
type ProjectEntry = CollectionEntry<'portfolio'>;
type ProjectData = ProjectEntry['data'];
const allProjects: ProjectEntry[] = await getCollection('portfolio');
const projects: ProjectData[] = allProjects
  .filter((p: ProjectEntry) => p.data.category === 'web-development')
  .sort((a: ProjectEntry, b: ProjectEntry) => (a.data.order ?? 0) - (b.data.order ?? 0))
  .map((p: ProjectEntry) => p.data);
---

<SiteLayout
  title="Web Development"
  canonical="/portfolio/web-development/"
  selectedItem="web-development"
  description="Showcase of web builds from landing pages and blogs to dashboards. I turn web into fast, accessible sites with clean UI, solid SEO, and maintainable code."
>
  <BackNav href="/portfolio/" label="See Other Portfolios" />
  <div class="content-container">
    <h1>Web Development</h1>
    <section class={listing['items-container']}>
      <div class={listing['resouce-items']}>
        {projects.map((project: ProjectData) => (
          <Project 
            title={project.title} 
            desc={project.desc}
            highlights={project.highlights}
            tech={project.tech}
          />
        ))}
      </div>
    </section>
  </div>
</SiteLayout>
