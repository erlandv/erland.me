---
import Icon from './Icon.astro';
import styles from './ThemeToggle/ThemeToggle.module.css';
---

<div class:list={[styles.wrapper, 'theme-toggle']}>
  <button
    type='button'
    class:list={[styles.trigger, 'theme-toggle__trigger']}
    data-theme-trigger
    aria-expanded='false'
    aria-controls='theme-flyout'
    aria-label='Theme settings'
    title='Theme settings'
  >
    <span class:list={[styles.triggerIcon, 'theme-toggle__trigger-icon']}>
      <Icon name='auto' class={styles.svg} data-theme-trigger-icon />
    </span>
  </button>

  <div
    id='theme-flyout'
    class:list={[styles.flyout, 'theme-toggle__flyout']}
    role='menu'
    aria-label='Theme options'
    hidden
  >
    <button
      type='button'
      class:list={[styles.option, 'theme-toggle__option']}
      role='menuitemradio'
      data-theme-option='auto'
      data-active='true'
      aria-checked='true'
    >
      <span class={styles.optionIcon}>
        <Icon name='auto' class={styles.optionSvg} />
      </span>
      <span class={styles.optionLabel}>Auto</span>
    </button>

    <button
      type='button'
      class:list={[styles.option, 'theme-toggle__option']}
      role='menuitemradio'
      data-theme-option='light'
      aria-checked='false'
    >
      <span class={styles.optionIcon}>
        <Icon name='sun' class={styles.optionSvg} />
      </span>
      <span class={styles.optionLabel}>Light</span>
    </button>

    <button
      type='button'
      class:list={[styles.option, 'theme-toggle__option']}
      role='menuitemradio'
      data-theme-option='dark'
      aria-checked='false'
    >
      <span class={styles.optionIcon}>
        <Icon name='moon' class={styles.optionSvg} />
      </span>
      <span class={styles.optionLabel}>Dark</span>
    </button>
  </div>

  <div
    id='theme-status'
    class='visually-hidden'
    role='status'
    aria-live='polite'
    aria-atomic='true'
  ></div>
</div>
