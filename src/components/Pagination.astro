---
interface Props {
  page: number;
  totalPages: number;
  pageHref: (n: number) => string;
}

const { page, totalPages, pageHref } = Astro.props as Props;
import styles from "./Pagination/pagination.module.css";
---

<nav aria-label="Pagination" class={styles.pagination}>
  {page > 1 && (
    <a href={pageHref(page - 1)} class={styles["page-link"]}>Prev</a>
  )}
  {Array.from({ length: totalPages }).map((_, i) => {
    const n = i + 1;
    const active = n === page;
    return (
      <a
        href={pageHref(n)}
        aria-current={active ? 'page' : undefined}
        class:list={[styles["page-link"], active && styles.active]}
      >
        {n}
      </a>
    );
  })}
  {page < totalPages && (
    <a href={pageHref(page + 1)} class={styles["page-link"]}>Next</a>
  )}
</nav>
